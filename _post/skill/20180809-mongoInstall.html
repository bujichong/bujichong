<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mongodb 安装与卸载 | 不羁的空间</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="疏言懒行，卖马为生">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.7e68729f.css" as="style"><link rel="preload" href="/assets/js/app.a26713ea.js" as="script"><link rel="preload" href="/assets/js/2.87cec437.js" as="script"><link rel="preload" href="/assets/js/47.1b5f52f4.js" as="script"><link rel="prefetch" href="/assets/js/10.bf08d80d.js"><link rel="prefetch" href="/assets/js/11.85a7e2d3.js"><link rel="prefetch" href="/assets/js/12.76f7a9c7.js"><link rel="prefetch" href="/assets/js/13.f2a6a2be.js"><link rel="prefetch" href="/assets/js/14.3a8f77ae.js"><link rel="prefetch" href="/assets/js/15.8554c958.js"><link rel="prefetch" href="/assets/js/16.52491630.js"><link rel="prefetch" href="/assets/js/17.e0e03ccc.js"><link rel="prefetch" href="/assets/js/18.32b3fe46.js"><link rel="prefetch" href="/assets/js/19.275d1969.js"><link rel="prefetch" href="/assets/js/20.3561926e.js"><link rel="prefetch" href="/assets/js/21.9cc608d5.js"><link rel="prefetch" href="/assets/js/22.fe239391.js"><link rel="prefetch" href="/assets/js/23.c701ceb1.js"><link rel="prefetch" href="/assets/js/24.30789f2b.js"><link rel="prefetch" href="/assets/js/25.5175d6f7.js"><link rel="prefetch" href="/assets/js/26.2adbca52.js"><link rel="prefetch" href="/assets/js/27.c5979efc.js"><link rel="prefetch" href="/assets/js/28.ca25450a.js"><link rel="prefetch" href="/assets/js/29.13ac33a3.js"><link rel="prefetch" href="/assets/js/3.019a79e8.js"><link rel="prefetch" href="/assets/js/30.789acfcb.js"><link rel="prefetch" href="/assets/js/31.6f57878a.js"><link rel="prefetch" href="/assets/js/32.94382ab7.js"><link rel="prefetch" href="/assets/js/33.626197a8.js"><link rel="prefetch" href="/assets/js/34.29168fb9.js"><link rel="prefetch" href="/assets/js/35.dde709da.js"><link rel="prefetch" href="/assets/js/36.8868d14f.js"><link rel="prefetch" href="/assets/js/37.cd85e7fc.js"><link rel="prefetch" href="/assets/js/38.8f25c2c9.js"><link rel="prefetch" href="/assets/js/39.88833f29.js"><link rel="prefetch" href="/assets/js/4.cc25228b.js"><link rel="prefetch" href="/assets/js/40.dfbb5063.js"><link rel="prefetch" href="/assets/js/41.08df4786.js"><link rel="prefetch" href="/assets/js/42.708773a5.js"><link rel="prefetch" href="/assets/js/43.c9f1b625.js"><link rel="prefetch" href="/assets/js/44.7513024e.js"><link rel="prefetch" href="/assets/js/45.8a076e23.js"><link rel="prefetch" href="/assets/js/46.9f6d8143.js"><link rel="prefetch" href="/assets/js/48.efec3fdf.js"><link rel="prefetch" href="/assets/js/49.a7b86055.js"><link rel="prefetch" href="/assets/js/5.e65fd3c1.js"><link rel="prefetch" href="/assets/js/50.45ed19de.js"><link rel="prefetch" href="/assets/js/51.06cb20a4.js"><link rel="prefetch" href="/assets/js/6.4e9c55f9.js"><link rel="prefetch" href="/assets/js/7.e992faf1.js"><link rel="prefetch" href="/assets/js/8.ab9dd9a9.js"><link rel="prefetch" href="/assets/js/9.54430868.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e68729f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="不羁的空间" class="logo"> <span class="site-name can-hide">不羁的空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间如流水
</a></div><div class="nav-item"><a href="/photo/indexGallery.html" class="nav-link">
  相册
</a></div><div class="nav-item"><a href="/souni/index.html" class="nav-link">
  soUni手册
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间如流水
</a></div><div class="nav-item"><a href="/photo/indexGallery.html" class="nav-link">
  相册
</a></div><div class="nav-item"><a href="/souni/index.html" class="nav-link">
  soUni手册
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>记录一下
</p></blockquote> <h2 id="安装包下载"><a href="#安装包下载" class="header-anchor">#</a> 安装包下载</h2> <p>地址：https://www.mongodb.com/download-center
选择 “Community Server”， <strong>download(msi)</strong>
windows版，我新安装的版本是4.0</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <ul><li>点击安装msi文件，选择“custom”安装方式，安装目录默认户I选择C盘的Program Files，点next</li> <li>我安装的是4.0版，这个版本比之前的版本（和3.2版本对比）多了一个 <code>Install MongoD as a Service user</code>，
我理解是安装包会默认帮我把mongo注册到windows服务里去，
这个在之前版本里是需要手动配置的，
安装完可以到 window的服务面版里去查看验证，
确实多了一个 <code>Mongodb Server</code>的服务。</li> <li>下方有个小勾，默认勾上的，提示是否安装 <code>MongoDB Compass</code>，
不去掉，安装时会连接远程下载安装程序，很花时间。</li></ul> <h2 id="更改-data-存储目录"><a href="#更改-data-存储目录" class="header-anchor">#</a> 更改 data 存储目录</h2> <p>新建存储目录，如我在C盘下新建目录 <code>data</code>，里面再新建两个文件夹， <code>db</code>和<code>log</code>，
我们要将数据目录和log目录指到新建的这个文件夹中。</p> <ul><li>启动cmd命令行</li> <li>进入 mongdb目录，默认目录，我这里是 <code>C:\Program Files\MongoDB\Server\4.0\bin</code></li> <li>命令行命令：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mongod --dbpath C:<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>待命令执行完成后，在浏览器输入http://localhost:27017，页面显示 **'It looks like you。。。'**表示设置正确，连接成功。</li></ul> <h2 id="注册及移除windows服务"><a href="#注册及移除windows服务" class="header-anchor">#</a> 注册及移除windows服务</h2> <p>先将cmd目录指到mongo的bin目录下，执行以下命令(当然也可以把这个目录做成环境变量，就可以直接在cmd里执行这个命令，这里就不说明怎么配置环境变量了)</p> <h3 id="注册"><a href="#注册" class="header-anchor">#</a> 注册：</h3> <p><strong>方法一：</strong></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mongod --dbpath <span class="token string">&quot;C:\data\db&quot;</span> --logpath <span class="token string">&quot;C:\data\log\log.txt&quot;</span> --install --serviceName <span class="token string">&quot;MongoDB&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>方法二：</strong></p> <ul><li>在bin目录下新建文件 <code>mongo.config</code></li> <li>打开文件，并输入：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">dbpath</span><span class="token operator">=</span>C:<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db
<span class="token assign-left variable">logpath</span><span class="token operator">=</span>C:<span class="token punctuation">\</span>data<span class="token punctuation">\</span>log<span class="token punctuation">\</span>log.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>cmd在bin目录下输入：</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mongod --config <span class="token string">&quot;C:\Program Files\MongoDB\Server<span class="token entity" title="\4">\4</span>.0<span class="token entity" title="\b">\b</span>in\mongo.config&quot;</span> --install --serviceName <span class="token string">&quot;MongoDB&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ok，完成，
打开 window 服务面板验证一下吧</p> <h3 id="卸载"><a href="#卸载" class="header-anchor">#</a> 卸载：</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mongod.exe --remove --serviceName <span class="token string">&quot;MongoDB&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="启动及关闭服务"><a href="#启动及关闭服务" class="header-anchor">#</a> 启动及关闭服务</h2> <p>只说命令：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>NET start MongoDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>NET stop MongoDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="卸载-2"><a href="#卸载-2" class="header-anchor">#</a> 卸载</h2> <p>卸载直接在控制面板通过程序卸载就OK，程序会帮助我们把mongo文件删的干干净净，没有发现问题</p> <h2 id="mongodb-优缺点"><a href="#mongodb-优缺点" class="header-anchor">#</a> MongoDB 优缺点</h2> <h4 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h4> <ul><li>文档结构的存储方式，能够更便捷的获取数据</li> <li>内置GridFS，支持大容量的存储</li> <li>海量数据下，性能优越</li> <li>动态查询</li> <li>全索引支持,扩展到内部对象和内嵌数组</li> <li>查询记录分析</li> <li>快速,就地更新</li> <li>高效存储二进制大对象 (比如照片和视频)</li> <li>复制（复制集）和支持自动故障恢复</li> <li>内置 Auto- Sharding 自动分片支持云级扩展性，分片简单</li> <li>MapReduce 支持复杂聚合</li> <li>商业支持,培训和咨询</li></ul> <h4 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h4> <ul><li>不支持事务操作</li> <li>MongoDB 占用空间过大 （不过这个确定对于目前快速下跌的硬盘价格来说，也不算什么缺点了）</li> <li>MongoDB没有如MySQL那样成熟的维护工具</li> <li>无法进行关联表查询，不适用于关系多的数据</li> <li>复杂聚合操作通过mapreduce创建，速度慢</li> <li>模式自由,自由灵活的文件存储格式带来的数据错</li> <li>MongoDB 在你删除记录后不会在文件系统回收空间。除非你删掉数据库。但是空间没有被浪费</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a26713ea.js" defer></script><script src="/assets/js/2.87cec437.js" defer></script><script src="/assets/js/47.1b5f52f4.js" defer></script>
  </body>
</html>
