<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>nodeJs NODE_PATH环境变量设置 | 不羁的空间</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="疏言懒行，卖马为生">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.7e68729f.css" as="style"><link rel="preload" href="/assets/js/app.a26713ea.js" as="script"><link rel="preload" href="/assets/js/2.87cec437.js" as="script"><link rel="preload" href="/assets/js/25.5175d6f7.js" as="script"><link rel="prefetch" href="/assets/js/10.bf08d80d.js"><link rel="prefetch" href="/assets/js/11.85a7e2d3.js"><link rel="prefetch" href="/assets/js/12.76f7a9c7.js"><link rel="prefetch" href="/assets/js/13.f2a6a2be.js"><link rel="prefetch" href="/assets/js/14.3a8f77ae.js"><link rel="prefetch" href="/assets/js/15.8554c958.js"><link rel="prefetch" href="/assets/js/16.52491630.js"><link rel="prefetch" href="/assets/js/17.e0e03ccc.js"><link rel="prefetch" href="/assets/js/18.32b3fe46.js"><link rel="prefetch" href="/assets/js/19.275d1969.js"><link rel="prefetch" href="/assets/js/20.3561926e.js"><link rel="prefetch" href="/assets/js/21.9cc608d5.js"><link rel="prefetch" href="/assets/js/22.fe239391.js"><link rel="prefetch" href="/assets/js/23.c701ceb1.js"><link rel="prefetch" href="/assets/js/24.30789f2b.js"><link rel="prefetch" href="/assets/js/26.2adbca52.js"><link rel="prefetch" href="/assets/js/27.c5979efc.js"><link rel="prefetch" href="/assets/js/28.ca25450a.js"><link rel="prefetch" href="/assets/js/29.13ac33a3.js"><link rel="prefetch" href="/assets/js/3.019a79e8.js"><link rel="prefetch" href="/assets/js/30.789acfcb.js"><link rel="prefetch" href="/assets/js/31.6f57878a.js"><link rel="prefetch" href="/assets/js/32.94382ab7.js"><link rel="prefetch" href="/assets/js/33.626197a8.js"><link rel="prefetch" href="/assets/js/34.29168fb9.js"><link rel="prefetch" href="/assets/js/35.dde709da.js"><link rel="prefetch" href="/assets/js/36.8868d14f.js"><link rel="prefetch" href="/assets/js/37.cd85e7fc.js"><link rel="prefetch" href="/assets/js/38.8f25c2c9.js"><link rel="prefetch" href="/assets/js/39.88833f29.js"><link rel="prefetch" href="/assets/js/4.cc25228b.js"><link rel="prefetch" href="/assets/js/40.dfbb5063.js"><link rel="prefetch" href="/assets/js/41.08df4786.js"><link rel="prefetch" href="/assets/js/42.708773a5.js"><link rel="prefetch" href="/assets/js/43.c9f1b625.js"><link rel="prefetch" href="/assets/js/44.7513024e.js"><link rel="prefetch" href="/assets/js/45.8a076e23.js"><link rel="prefetch" href="/assets/js/46.9f6d8143.js"><link rel="prefetch" href="/assets/js/47.1b5f52f4.js"><link rel="prefetch" href="/assets/js/48.efec3fdf.js"><link rel="prefetch" href="/assets/js/49.a7b86055.js"><link rel="prefetch" href="/assets/js/5.e65fd3c1.js"><link rel="prefetch" href="/assets/js/50.45ed19de.js"><link rel="prefetch" href="/assets/js/51.06cb20a4.js"><link rel="prefetch" href="/assets/js/6.4e9c55f9.js"><link rel="prefetch" href="/assets/js/7.e992faf1.js"><link rel="prefetch" href="/assets/js/8.ab9dd9a9.js"><link rel="prefetch" href="/assets/js/9.54430868.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e68729f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="不羁的空间" class="logo"> <span class="site-name can-hide">不羁的空间</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间如流水
</a></div><div class="nav-item"><a href="/photo/indexGallery.html" class="nav-link">
  相册
</a></div><div class="nav-item"><a href="/souni/index.html" class="nav-link">
  soUni手册
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link">
  时间如流水
</a></div><div class="nav-item"><a href="/photo/indexGallery.html" class="nav-link">
  相册
</a></div><div class="nav-item"><a href="/souni/index.html" class="nav-link">
  soUni手册
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>重新装电脑，安装express到全局总是报错，要么是找不到express要么是express不是内部或外部命令，之前处理过，是通过设置NODE_PATH处理的，总是忘掉，记录一下。</p></blockquote> <p>node模块如果都安装到当前项目下，项目肯定很臃肿啦，所以安装到全局是经常有的事儿，这里列一下设置NODE_PATH及相关命令</p> <h3 id="查看当前已安装的模块"><a href="#查看当前已安装的模块" class="header-anchor">#</a> 查看当前已安装的模块：</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm ls <span class="token operator">--</span>depth<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">-</span>g
npm list <span class="token operator">--</span>depth<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">-</span>g
npm list <span class="token operator">--</span>depth<span class="token operator">=</span><span class="token number">0</span> <span class="token operator">-</span>global
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这3个都是一个意思啦</p> <h3 id="查看全局配置"><a href="#查看全局配置" class="header-anchor">#</a> 查看全局配置</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm config ls <span class="token operator">-</span>l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看系统全局的路径"><a href="#查看系统全局的路径" class="header-anchor">#</a> 查看系统全局的路径</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm root <span class="token operator">-</span>g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这个就可以帮我们查看node npm全局包对应的位置了</p> <h3 id="设置node-path为环境变量"><a href="#设置node-path为环境变量" class="header-anchor">#</a> 设置NODE_PATH为环境变量</h3> <p>最简单的就是直接把现在的目录直接设为环境变量</p> <p>如果要自定义位置的的话，就需要重新设置一下：</p> <p><img src="/images/7408639-3fd1ed44212ec1a5.webp" alt="文件夹目录"></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>npm config <span class="token keyword">set</span> userconfig <span class="token string">&quot;D:\nodejs\.npmrc&quot;</span>
npm config <span class="token keyword">set</span> prefix <span class="token string">&quot;D:\nodejs\node_global&quot;</span>
npm config <span class="token keyword">set</span> cache <span class="token string">&quot;D:\nodejs\node_cache&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或在$HOME 目录下（一般情况下是 C:\Users$USER）直接修改 <strong>.npmrc</strong> 文件（Windows 系统）</p> <p><img src="/images/7408639-6f3cedd3374e06b1.webp" alt=""></p> <p>接下来设置环境变量，“我的电脑”-右键-“属性”-“高级系统设置”-“高级”-“环境变量”，进入环境变量对话框，在【系统变量】下新建 <strong>NODE_PATH</strong>，</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">NODE_PATH</span> <span class="token operator">=</span> <span class="token constant">D</span><span class="token operator">:</span>\nodejs
<span class="token constant">PATH</span> <span class="token operator">=</span> <span class="token operator">%</span><span class="token constant">NODE_PATH</span><span class="token operator">%</span><span class="token punctuation">;</span><span class="token operator">%</span><span class="token constant">NODE_PATH</span><span class="token operator">%</span>\node_modules<span class="token punctuation">;</span><span class="token operator">%</span><span class="token constant">NODE_PATH</span><span class="token operator">%</span>\node_global<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输入原始node_modules目录，或者是我们修改后的 <strong>D:\nodejs\node_global\node_modules</strong></p> <p><img src="/images/7408639-fa33e2583f1bb8ed.webp" alt=""></p> <p>再把 <strong>%NODE_PATH%</strong> 添加到 系统变量里的 <strong>path</strong> 里好了</p> <p>参考博文链接：</p> <p>https://www.jianshu.com/p/c06fa1e1282a</p> <p>https://blog.csdn.net/qq_27278957/article/details/77175651</p> <h3 id="其他常用node命令"><a href="#其他常用node命令" class="header-anchor">#</a> 其他常用node命令</h3> <ul><li><p><code>npm list</code>  查看当前目录下已安装的node包</p></li> <li><p><code>npm help</code> 查看帮助命令</p></li> <li><p><code>npm update</code>    更新node模块</p></li> <li><p><code>npm uninstall</code>    卸载模块</p></li> <li><p><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code>    安装cnpm</p></li> <li><p><code>npm config set registry http://registry.npm.taobao.org/</code>   设置淘宝镜像</p></li> <li><p><code>npm root</code>  查看当前包的安装路径</p></li></ul> <h3 id="c-users-user-npmrc-文件"><a href="#c-users-user-npmrc-文件" class="header-anchor">#</a> C:\Users$USER  <strong>.npmrc</strong> 文件</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
prefix<span class="token operator">=</span><span class="token constant">D</span><span class="token operator">:</span>\nodejs\node_global
cache<span class="token operator">=</span><span class="token constant">D</span><span class="token operator">:</span>\nodejs\node_cache
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a26713ea.js" defer></script><script src="/assets/js/2.87cec437.js" defer></script><script src="/assets/js/25.5175d6f7.js" defer></script>
  </body>
</html>
