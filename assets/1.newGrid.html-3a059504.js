import{_ as c,p as r,q as i,t as s,P as a,J as l,s as n,G as t,n as o}from"./framework-d4dfb5a8.js";const u="/docs/pcwork/datagrid.png",k={},d=l('<blockquote><p>$grid.newGrid方法是在easyUI的dataGrid上进行了二次封装，主要封装了gird的工具栏，加部分默认参数设置， <strong>详细参数设置请在查看此文档的时候也查看easyUI的API文档</strong>。</p></blockquote><h2 id="运行效果" tabindex="-1"><a class="header-anchor" href="#运行效果" aria-hidden="true">#</a> 运行效果</h2><p><img src="'+u+'" alt="progress"></p><h2 id="示例代码" tabindex="-1"><a class="header-anchor" href="#示例代码" aria-hidden="true">#</a> 示例代码</h2>',4),m=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[t("$grid"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"newGrid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"#gridBox"'),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token literal-property property"},"tools"),n("span",{class:"token operator"},":"),n("span",{class:"token punctuation"},"["),n("span",{class:"token comment"},"//工具栏按钮"),t(`
    `),n("span",{class:"token punctuation"},"["),n("span",{class:"token comment"},"//按钮组"),t(`
      `),n("span",{class:"token punctuation"},"{"),t(`
        `),n("span",{class:"token literal-property property"},"iconCls"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'plus'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//图标"),t(`
        `),n("span",{class:"token literal-property property"},"text"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'新增'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//文字"),t(`
        `),n("span",{class:"token literal-property property"},"url"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'userForm.html'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//请求链接"),t(`
        `),n("span",{class:"token literal-property property"},"popMax"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//默认采用popIframe弹窗模式，popMax为ture是全屏展示"),t(`
        `),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'用户信息-新增'"),n("span",{class:"token comment"},"//弹窗标题"),t(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token punctuation"},"{"),t(`
        `),n("span",{class:"token literal-property property"},"iconCls"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'pencil'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"text"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'修改'"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"onlyOne"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//只能操作一条记录"),t(`
        `),n("span",{class:"token literal-property property"},"notNull"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'请选择你要修改的记录!'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//为true必须选择记录行，内容为没有选择任何一条记录的提示"),t(`
        `),n("span",{class:"token literal-property property"},"popHeight"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"400"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"popWidth"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"560"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//弹窗pop宽高"),t(`
        `),n("span",{class:"token literal-property property"},"url"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'userForm.html?id={id}'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//请求url地址,{}内为选择行的参数值，如果多选，值用逗号隔开"),t(`
        `),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'用户信息-修改'"),t(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token punctuation"},"{"),t(`
        `),n("span",{class:"token literal-property property"},"iconCls"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'trash'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"text"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'删除'"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"check"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//true为行check模式，默认false为行select模式"),t(`
        `),n("span",{class:"token literal-property property"},"url"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'json/true.js'"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"post"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'userId=id&userName=name'"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//url请求为post模式，"),t(`
        `),n("span",{class:"token literal-property property"},"notNull"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},`'请 <strong class="red">勾选</strong> 需要删除的一项或多项！'`),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"ajax"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//请求为ajax模式，直接向服务器发送ajax请求"),t(`
        `),n("span",{class:"token literal-property property"},"ajaxMsg"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'你确定提交此删除操作吗？'"),n("span",{class:"token comment"},"//ajax提示信息"),t(`
        `),n("span",{class:"token punctuation"},"}"),t(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token comment"},"//按钮组结束"),t(`
    `),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},"["),n("span",{class:"token comment"},"//按钮组"),t(`
      `),n("span",{class:"token punctuation"},"{"),t(`
        `),n("span",{class:"token literal-property property"},"iconCls"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'refresh'"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"text"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'重置密码'"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token function-variable function"},"click"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),t(`
            `),n("span",{class:"token keyword"},"var"),t(" rows "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"$"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#gridBox'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"datagrid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'getChecked'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(),n("span",{class:"token comment"},"//获取勾选行"),t(`
            `),n("span",{class:"token comment"},"// var row = $('#gridBox').datagrid('getSelected'); //获取选中行"),t(`
            `),n("span",{class:"token keyword"},"var"),t(" ids "),n("span",{class:"token operator"},"="),t(" rows"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"row"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(" row"),n("span",{class:"token punctuation"},"."),t("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
            ids `),n("span",{class:"token operator"},"="),t(" ids"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"','"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
            $ajax`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"post"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token comment"},"//发送请求"),t(`
                `),n("span",{class:"token literal-property property"},"url"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'restPass.jhtml'"),n("span",{class:"token punctuation"},","),t(`
                `),n("span",{class:"token literal-property property"},"data"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"ids"),n("span",{class:"token operator"},":"),t(" ids"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
                `),n("span",{class:"token operator"},"..."),t(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
        `),n("span",{class:"token punctuation"},"}"),t(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token punctuation"},"{"),t(`
        `),n("span",{class:"token function-variable function"},"html"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("$par"),n("span",{class:"token punctuation"},","),t("$grid"),n("span",{class:"token punctuation"},","),t("opt")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token comment"},"//工具栏 插入html"),t(`
          `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token string"},`'<input class="txt txt-number" name="num" data-options="min:0,precision:2"><button class="btn btn-small btn-primary" type="button">搜索</button>'`),t(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token function-variable function"},"render"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("$par"),n("span",{class:"token punctuation"},","),t("$grid"),n("span",{class:"token punctuation"},","),t("opt")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token comment"},"//对插入的html代码进行事件初始化 $par：工具栏盒对象，$grid：grid对象,opt：当前工具行参数,比如 opt.someOpt 得到 cc"),t(`
          `),n("span",{class:"token keyword"},"var"),t(" num "),n("span",{class:"token operator"},"="),t(" $par"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"find"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'.txt-number'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"val"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
          $par`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"find"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'.btn'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"click"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),t(`
            $grid`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"datagrid"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'reload'"),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"num"),n("span",{class:"token operator"},":"),t("num"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
          `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
        `),n("span",{class:"token literal-property property"},"someOpt"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'cc'"),t(`
      `),n("span",{class:"token punctuation"},"}"),t(`
    `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token comment"},"//按钮组结束"),t(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"rownumbers"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//是否显示rownumber，参考easyui原api"),t(`
  `),n("span",{class:"token literal-property property"},"fitColumns"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//列是否自动展开，参考easyui原api"),t(`
  `),n("span",{class:"token literal-property property"},"singleSelect"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//是否单选，参考easyui原api"),t(`
  `),n("span",{class:"token literal-property property"},"checkOnSelect"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//check的时候同时select，参考easyui原api"),t(`
  `),n("span",{class:"token literal-property property"},"selectOnCheck"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//select的时候同时check，参考easyui原api"),t(`
  `),n("span",{class:"token literal-property property"},"columns"),n("span",{class:"token operator"},":"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"["),n("span",{class:"token comment"},"//数据行"),t(`
    `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'id'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'id'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"checkbox"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'用户名'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'userName'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"sortable"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),n("span",{class:"token comment"},"//sortable打开单击表头排序功能"),t(`
    `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'姓名'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'realName'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"sortable"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'性别'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'sex'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"sortable"),n("span",{class:"token operator"},":"),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},","),n("span",{class:"token function-variable function"},"formatter"),n("span",{class:"token operator"},":"),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("value"),n("span",{class:"token punctuation"},","),t("rows"),n("span",{class:"token punctuation"},","),t("index")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token comment"},"//formatter自定义返回内容，参考easyui原api"),t(`
          `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"''"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'男'"),n("span",{class:"token punctuation"},","),n("span",{class:"token string"},"'女'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),t("value"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},";"),t(`
        `),n("span",{class:"token punctuation"},"}"),t(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'创建日期'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'createTime'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"150"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"format"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'yyyy-MM-dd hh:mm:ss'"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token comment"},"//format只支持时间format"),t(`
    `),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'最后修改时间'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"field"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'lastModifyTime'"),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"width"),n("span",{class:"token operator"},":"),n("span",{class:"token number"},"150"),n("span",{class:"token punctuation"},"}"),t(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token comment"},"//   loader: function(params,success,error){//自定义请求数据函数 params为请求参数"),t(`
`),n("span",{class:"token comment"},"//     return success([{userName:'张三',sex:'1'}]);"),t(`
`),n("span",{class:"token comment"},"//   },"),t(`
  `),n("span",{class:"token function-variable function"},"onClickRow"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("index"),n("span",{class:"token punctuation"},","),t(" row")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token comment"},"//单击行"),t(`
  `),n("span",{class:"token function-variable function"},"onDblClickRow"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("index"),n("span",{class:"token punctuation"},","),t(" row")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token comment"},"//双击行"),t(`
  `),n("span",{class:"token function-variable function"},"onClickCell"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("index"),n("span",{class:"token punctuation"},","),t(" row")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token comment"},"//单击单元格"),t(`
  `),n("span",{class:"token function-variable function"},"onCheck"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("index"),n("span",{class:"token punctuation"},","),t(" row")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token comment"},"//当勾选行"),t(`
  `),n("span",{class:"token function-variable function"},"onUncheck"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[t("index"),n("span",{class:"token punctuation"},","),t(" row")]),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token comment"},"//当取消勾选行"),t(`
  `),n("span",{class:"token function-variable function"},"onBeforeLoad"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"params"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token comment"},"//请求前拦截函数"),t(`
    `),n("span",{class:"token keyword"},"if"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),t("params"),n("span",{class:"token punctuation"},"."),t("deptId"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},";"),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token comment"},"//r不满足条件,return false 中断请求"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token function-variable function"},"onLoadSuccess"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token keyword"},"function"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"data"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"{"),t(`
    console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),t("data"),n("span",{class:"token punctuation"},"."),t("rows"),n("span",{class:"token punctuation"},","),t("data"),n("span",{class:"token punctuation"},"."),t("total"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"url"),n("span",{class:"token operator"},":"),n("span",{class:"token string"},"'json/users.js'"),n("span",{class:"token comment"},"//grid请求地址"),t(`
  `),n("span",{class:"token punctuation"},","),n("span",{class:"token literal-property property"},"offset"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"50"),n("span",{class:"token comment"},"//高度偏移量，目的使grid表格高度正好适应窗口"),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),t(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),y=n("div",{class:"language-html line-numbers-mode","data-ext":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("div")]),t(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("gridWrap"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("div")]),t(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("gridBox"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=l(`<h2 id="newgrid-新增属性" tabindex="-1"><a class="header-anchor" href="#newgrid-新增属性" aria-hidden="true">#</a> newGrid 新增属性</h2><ul><li><code>newGrid</code> 在表格高度上做了自适应，默认高度是 <strong>页面高度 - 搜索栏高度</strong>, 如果页面中除了表格和工具栏，你还有其他元素需要占用高度，你可以通过 <code>offset</code> 属性增减 匹配让高度自适应全屏。</li><li>除此之外，为了让grid 高度可以尽量灵活适应页面布局，我们还增加了 <code>fitHeight</code> 和 <code>fitParent</code>属性，具体用途如下表。</li><li>如果你自定义 <code>grid</code> 高度，可以 将 <code>height</code> 属性设置为 <code>auto</code> 或具体的 高度数值。</li></ul><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:center;">属性值类型</th><th style="text-align:center;">默认值</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">fitHeight</td><td style="text-align:center;">boolean</td><td style="text-align:center;">true</td><td style="text-align:center;">随视窗缩放，自适应窗口，需定义固定高度时，设为false或者将 height设置为 auto均可，相关属性 <code>offset</code> <code>height</code></td></tr><tr><td style="text-align:left;">fitParent</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">grid自适应父级元素宽高，设定此属性后，表格会自动适应父级盒子高度，一般用在需要自适应的布局中， 父级盒子会采用绝对定位来自适应页面宽高。</td></tr></tbody></table><h2 id="columns-新增属性" tabindex="-1"><a class="header-anchor" href="#columns-新增属性" aria-hidden="true">#</a> columns 新增属性</h2><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:center;">属性值类型</th><th style="text-align:center;">默认值</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">format</td><td style="text-align:center;">string</td><td style="text-align:center;">&#39;&#39;</td><td style="text-align:center;">用日期函数 <code>$.fmtDate</code>来格式化列值</td></tr><tr><td style="text-align:left;">price</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">为true，格式化为2位小数，右对齐</td></tr><tr><td style="text-align:left;">titletip</td><td style="text-align:center;">boolean</td><td style="text-align:center;">true</td><td style="text-align:center;">以title的方式显示单元格内容</td></tr><tr><td style="text-align:left;">sum</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">为需要合计的列</td></tr></tbody></table><h2 id="datagrid-新增方法" tabindex="-1"><a class="header-anchor" href="#datagrid-新增方法" aria-hidden="true">#</a> datagrid 新增方法</h2><p><strong>totalNumber</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">$</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">datagrid</span><span class="token punctuation">(</span><span class="token string">&#39;totalNumber&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span> <span class="token operator">:</span> <span class="token string">&#39;footer&#39;</span><span class="token punctuation">,</span><span class="token comment">//默认为footer</span>
  <span class="token literal-property property">extendData</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//其他需要显示的数据，对应列field显示</span>
  <span class="token literal-property property">precision</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token comment">//合计保留2为小数</span>
  <span class="token literal-property property">showSum</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//合计</span>
  <span class="token literal-property property">totalTxt</span> <span class="token operator">:</span> <span class="token string">&#39;&lt;b class=&quot;\\&#39;b-totalT\\&#39;&quot; style=&quot;\\&#39;color:#000;\\&#39;&quot;&gt;合计:&lt;/b&gt;&#39;</span><span class="token punctuation">,</span><span class="token comment">//合计标题文案，没有特殊需求不需要修改</span>
  <span class="token literal-property property">totalTxtField</span><span class="token operator">:</span>opt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>field<span class="token comment">//合计标题显示所在 field</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tools按钮参数列表" tabindex="-1"><a class="header-anchor" href="#tools按钮参数列表" aria-hidden="true">#</a> tools按钮参数列表</h2><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:center;">属性值类型</th><th style="text-align:center;">默认值</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">html</td><td style="text-align:center;">string / ($par,$grid,opt) =&gt; string</td><td style="text-align:center;"></td><td style="text-align:center;">html模式插入页面，可以是字符串或者函数返回字符串，结合 <code>render</code>函数处理html代码</td></tr><tr><td style="text-align:left;">render</td><td style="text-align:center;">function</td><td style="text-align:center;">function($par,$grid,opt){}</td><td style="text-align:center;">只在html模式下有效，用于处理插入后的html事件，3个参数分别为 <code>$par</code>：工具栏对象，<code>$grid</code>：grid对象,<code>opt</code>：当前工具行参数</td></tr><tr><td style="text-align:left;">iconCls</td><td style="text-align:center;">string</td><td style="text-align:center;">plus</td><td style="text-align:center;">按钮图标</td></tr><tr><td style="text-align:left;">btnTitle</td><td style="text-align:center;">string</td><td style="text-align:center;">null</td><td style="text-align:center;">按钮标题</td></tr><tr><td style="text-align:left;">text</td><td style="text-align:center;">string</td><td style="text-align:center;">新增</td><td style="text-align:center;">按钮文本</td></tr><tr><td style="text-align:left;">url</td><td style="text-align:center;">string</td><td style="text-align:center;">null</td><td style="text-align:center;">请求地址，如 ：<code>userForm.html?id={id}</code>{}里为行返回的field值，如选择的是多行，返回的field为<code>,</code>隔开的字符串</td></tr><tr><td style="text-align:left;">popMax</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">iframe弹窗模式，弹窗是否最大化</td></tr><tr><td style="text-align:left;">popWidth</td><td style="text-align:center;">number</td><td style="text-align:center;">560</td><td style="text-align:center;">弹窗宽度</td></tr><tr><td style="text-align:left;">popHeight</td><td style="text-align:center;">number</td><td style="text-align:center;">300</td><td style="text-align:center;">弹窗高度</td></tr><tr><td style="text-align:left;">ajaxMsg</td><td style="text-align:center;">string</td><td style="text-align:center;">你确定提交此操作吗？</td><td style="text-align:center;">弹窗宽度</td></tr><tr><td style="text-align:left;">popHeight</td><td style="text-align:center;">number</td><td style="text-align:center;">300</td><td style="text-align:center;">弹窗高度</td></tr><tr><td style="text-align:left;">title</td><td style="text-align:center;">string</td><td style="text-align:center;">信息窗口</td><td style="text-align:center;">iframe弹窗模式，弹窗标题</td></tr><tr><td style="text-align:left;">check</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">是否返回是check的值，即勾选行，默认返回select的值，即选择行</td></tr><tr><td style="text-align:left;">notNull</td><td style="text-align:center;">boolean/string</td><td style="text-align:center;">false</td><td style="text-align:center;">为true时，grid必须选择行，为提示文字(string)时，没有选择行弹出提示文字</td></tr><tr><td style="text-align:left;">onlyOne</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">为true时，grid操作行只能选择一行</td></tr><tr><td style="text-align:left;">newWin</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">为true时，url对应的页面在新窗口打开</td></tr><tr><td style="text-align:left;">ajax</td><td style="text-align:center;">boolean</td><td style="text-align:center;">false</td><td style="text-align:center;">为true时，url对应的为ajax请求</td></tr><tr><td style="text-align:left;">post</td><td style="text-align:center;">string</td><td style="text-align:center;">false</td><td style="text-align:center;">此参数为ajax请求的延伸参数， 当ajax为true时，默认url请求传递参数的方法为：<code>userForm.html?id={id}</code>{}里为行返回的field值， 当post为true时，传参方式通过post值给出，返回，如：<code>url:&#39;userForm.html&#39;,post:&#39;userId=id&amp;name=name&#39;</code>，则返回给服务器的url请求为(举例)： <code>userForm.html?userId=122&amp;name=zhanghua</code>，122为field id的值 注意，这里post模式返回和默认方式不同的是，post模式回传的是参数的序列，和表单同步提交的方式相同</td></tr><tr><td style="text-align:left;">endBack</td><td style="text-align:center;">function</td><td style="text-align:center;">function () {}</td><td style="text-align:center;">iframe弹窗模式，关闭时返回事件</td></tr><tr><td style="text-align:left;">ajaxBack</td><td style="text-align:center;">function</td><td style="text-align:center;">function (rst) {}</td><td style="text-align:center;">ajax模式，请求后自自定义事件</td></tr><tr><td style="text-align:left;">click</td><td style="text-align:center;">function</td><td style="text-align:center;">function () {}</td><td style="text-align:center;">自定义click事件，之前所有的参数设置皆为浮云</td></tr></tbody></table>`,10);function b(x,f){const e=o("CodeGroupItem"),p=o("CodeGroup");return r(),i("div",null,[d,s(p,null,{default:a(()=>[s(e,{title:"js"},{default:a(()=>[m]),_:1}),s(e,{title:"html"},{default:a(()=>[y]),_:1})]),_:1}),g])}const h=c(k,[["render",b],["__file","1.newGrid.html.vue"]]);export{h as default};
