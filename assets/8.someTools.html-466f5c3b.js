import{_ as n,p as s,q as a,J as t}from"./framework-d4dfb5a8.js";const p={},e=t(`<blockquote><p>框架集成了一稀客底层的工具方法 在 <code>$</code> 和 <code>$T</code> 上，方便全局使用</p></blockquote><h2 id="geturlparams" tabindex="-1"><a class="header-anchor" href="#geturlparams" aria-hidden="true">#</a> $.getUrlParams</h2><p><strong>获取 url 中的参数值</strong></p><p>示例代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 获取url 中的id 参数 ， http://test.com/user?id=1213&amp;name=laowan</span>
<span class="token keyword">var</span> id <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">getUrlParams</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//id = 1213</span>
<span class="token keyword">var</span> urlParams <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">getUrlParams</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//urlParams = { id: 1213, name: &#39;laowan&#39; };</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getnowservetime" tabindex="-1"><a class="header-anchor" href="#getnowservetime" aria-hidden="true">#</a> $.getNowServeTime</h2><p><strong>获取服务端当前时间</strong></p><p>示例代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> nowServeTime <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">getNowServeTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="fullscreen-tufull-boolean" tabindex="-1"><a class="header-anchor" href="#fullscreen-tufull-boolean" aria-hidden="true">#</a> $.fullscreen(tufull: boolean)</h2><p><strong>全屏函数</strong>， tufull: true / false (全屏/退出全屏)</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token punctuation">.</span><span class="token function">fullscreen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="vieweropt" tabindex="-1"><a class="header-anchor" href="#vieweropt" aria-hidden="true">#</a> $.viewerOpt</h2><p><code>viewer</code>相册默认参数</p><p><strong>默认参数：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">viewerOpt</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">button</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">fullscreen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">zoomRatio</span><span class="token operator">:</span> <span class="token number">0.2</span><span class="token punctuation">,</span><span class="token literal-property property">zIndex</span><span class="token operator">:</span><span class="token number">200000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">toolbar</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">oneToOne</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">reset</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">prev</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">play</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&#39;large&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">rotateLeft</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">rotateRight</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">flipHorizontal</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">flipVertical</span><span class="token operator">:</span> <span class="token number">4</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">requirejs</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;viewer&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;pub&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">viewer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#ptImages&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">viewer</span><span class="token punctuation">(</span>$<span class="token punctuation">.</span>viewerOpt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//直接使用</span>
    <span class="token operator">...</span>
    
    <span class="token operator">...</span>
    <span class="token comment">//生成新的参数</span>
    <span class="token keyword">var</span> vo <span class="token operator">=</span> $<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>$<span class="token punctuation">.</span>viewerOpt<span class="token punctuation">,</span><span class="token punctuation">{</span>
      <span class="token comment">//在全局参数上添加自定义，只针对 img-gallery 的图片进行显示</span>
       <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token string">&#39;img-gallery&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#galleryImgs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">viewer</span><span class="token punctuation">(</span>vo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修正四则运算" tabindex="-1"><a class="header-anchor" href="#修正四则运算" aria-hidden="true">#</a> 修正四则运算</h2><p>这里提供了4个方法来修正算数计算。</p><ul><li><strong>加法:</strong> <code>$T.add(a,b)</code></li><li><strong>减法:</strong> <code>$T.sub(a,b)</code></li><li><strong>乘法:</strong> <code>$T.mul(a,b)</code></li><li><strong>除法</strong> <code>$T.div(a,b)</code></li></ul><p>在各种小数计算的时候，只需要直接使用即可。</p><p><strong>示例代码：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> $<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0.99</span><span class="token punctuation">,</span><span class="token number">1.23</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="t-tofixed" tabindex="-1"><a class="header-anchor" href="#t-tofixed" aria-hidden="true">#</a> $T.toFixed</h2><p>修正 <code>toFixed</code>的金融家四舍五入问题,</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0.245</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>注意：</strong> 现在全局的 <code>toFixed</code> 其实已强制修复了金融家四舍五入的问题，用默认的 <code>toFixed</code>，其实结果一样。</p><h2 id="cookie操作" tabindex="-1"><a class="header-anchor" href="#cookie操作" aria-hidden="true">#</a> cookie操作</h2><p>提供了2个方法来设置和读取 <code>cookie</code>：</p><ul><li><strong>设置cookie:</strong> <code>$T.setCookie</code></li><li><strong>读取cookie:</strong> <code>$T.getCookie</code></li></ul><p>请注意，这里设置和读取cookie 不是直接在系统域名下直接根据名称获取或设置，而是把需要设置的值放在了 &#39;aso&#39;这个变量下拼接起来。</p><p><strong>示例代码：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//设置 cookie</span>
$<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;kname&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;xiaom&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">&#39;kopt&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;xiaom&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//获取 cookie，返回皆为字符串</span>
$<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">&#39;kname&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$<span class="token constant">T</span><span class="token punctuation">.</span><span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token string">&#39;kopt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="t-getagebybir-date-monthandday-startdate" tabindex="-1"><a class="header-anchor" href="#t-getagebybir-date-monthandday-startdate" aria-hidden="true">#</a> $T.getAgeByBir(date,monthAndDay,startDate)</h2><p><strong>根据日期返回年龄</strong>，返回满岁，小于1岁算1岁;</p><ul><li><strong>date</strong> 生日</li><li><strong>monthAndDay</strong> 为true时，小于1岁返回 月 和 天</li><li><strong>startDate</strong> 默认为当前日，可设置计算的开始日期</li></ul>`,37),o=[e];function c(l,i){return s(),a("div",null,o)}const u=n(p,[["render",c],["__file","8.someTools.html.vue"]]);export{u as default};
